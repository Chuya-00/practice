(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{493:function(t,e,a){var n=a(583);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,a(14).default)("eb03267c",n,!0,{sourceMap:!1})},582:function(t,e,a){"use strict";var n=a(493);a.n(n).a},583:function(t,e,a){(e=a(13)(!1)).push([t.i,"table tr[data-v-62abdfba]{border-bottom:1px solid #d5dfe4}table th[data-v-62abdfba]{width:20%}table tbody tr td[data-v-62abdfba]{border-right:none}.learning_time_input_wrap[data-v-62abdfba]{display:flex;align-items:center;justify-content:space-between}.learning_time_input_wrap>span[data-v-62abdfba]{width:40%}.learning_time_input_wrap>span input[data-v-62abdfba]{text-align:center}.error[data-v-62abdfba]{display:block;font-size:1.2rem;color:red;text-align:left;line-height:1.2}textarea[data-v-62abdfba]{width:100%;border:none;background:transparent;padding:15px;min-height:150px;margin:0;display:block;resize:vertical}.foot_btns[data-v-62abdfba]{display:flex;justify-content:space-around;margin-top:40px}.foot_btns a[data-v-62abdfba]{height:auto;padding:15px 20px;margin:0 20px;min-width:200px}#add_learning_time_btn[data-v-62abdfba]{display:inline-block}#add_learning_time_btn .icon[data-v-62abdfba]{font-size:2.6rem;vertical-align:middle}",""]),t.exports=e},626:function(t,e,a){"use strict";a.r(e);a(20);var n=a(4),r={props:{dateWeekday:{type:String,require:!0,default:""}},data:function(){return{learningTimes:[{start:{hour:"",minute:""},end:{hour:"",minute:""}},{start:{hour:"",minute:""},end:{hour:"",minute:""}},{start:{hour:"",minute:""},end:{hour:"",minute:""}}],changeReason:"",year:null,month:null,day:null,isLoading:!1}},methods:{addLearningTime:function(){this.learningTimes.push({start:{hour:"",minute:""},end:{hour:"",minute:""}})},changeStart:function(t,e,a){this.learningTimes[t].start[a]=e,this.$refs.form.validate()},changeEnd:function(t,e,a){this.learningTimes[t].end[a]=e,this.$refs.form.validate()},inputChangeReason:function(t){this.changeReason=t},createTimestamps:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoading=!0,t.year=t.$route.query.year,t.month=t.$route.query.month,t.day=t.$route.query.day,a=t,e.next=7,t.$store.dispatch("learningTime/sendLearningTime",{learningTimes:t.learningTimes,changeReason:t.changeReason,year:t.year,month:t.month,day:t.day}).then((function(t){a.$router.push("/students/learning_time_lists")})).catch((function(t){}));case 7:t.isLoading=!1;case 8:case"end":return e.stop()}}),e)})))()}}},i=(a(582),a(3)),s={layout:"headerTitle",components:{CreateLearningTime:Object(i.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("validation-observer",{ref:"form",scopedSlots:t._u([{key:"default",fn:function(e){var n=e.invalid;return[a("div",{staticClass:"learning-time-list-wrap"},[a("table",[a("tbody",[a("tr",[a("th",[t._v("日付")]),t._v(" "),a("td",{staticClass:"tx_left",attrs:{colspan:"4"}},[t._v("\n            "+t._s(t.dateWeekday)+"\n          ")])])])]),t._v(" "),a("table",{attrs:{id:"learning-time-table"}},[a("tbody",t._l(t.learningTimes,(function(e,n){return a("tr",{key:n,staticClass:"learning-time-item"},[a("th",[t._v("学習時間"+t._s(n+1))]),t._v(" "),a("td",{staticClass:"w25"},[a("div",{staticClass:"learning_time_input_wrap"},[a("validation-provider",{attrs:{vid:"start-hour-"+n,name:"開始時間(時)",rules:{requiredTime:""!==e.start.minute||""!==e.end.hour||""!==e.end.minute,digits:2,between:[0,23],startHour:["@end-hour-"+n]}},scopedSlots:t._u([{key:"default",fn:function(r){var i=r.errors;return[a("input",{staticClass:"input start start_hour",attrs:{type:"text"},domProps:{value:e.start.hour},on:{input:function(e){return t.changeStart(n,e.target.value,"hour")}}}),t._v(" "),a("span",{staticClass:"error"},[t._v(t._s(i[0]))])]}}],null,!0)}),t._v("\n              :\n              "),a("validation-provider",{attrs:{vid:"start-minute-"+n,name:"開始時間(分)",rules:{requiredTime:""!==e.start.hour||""!==e.end.hour||""!==e.end.minute,digits:2,between:[0,59],startMinute:["@start-hour-"+n,"@end-hour-"+n,"@end-minute-"+n]}},scopedSlots:t._u([{key:"default",fn:function(r){var i=r.errors;return[a("input",{staticClass:"input start start_minute",attrs:{type:"text"},domProps:{value:e.start.minute},on:{input:function(e){return t.changeStart(n,e.target.value,"minute")}}}),t._v(" "),a("span",{staticClass:"error"},[t._v(t._s(i[0]))])]}}],null,!0)})],1),t._v(" "),a("div",{staticClass:"error start-error"})]),t._v(" "),a("td",{staticClass:"pa0"},[t._v("\n            ~\n          ")]),t._v(" "),a("td",{staticClass:"w25"},[a("div",{staticClass:"learning_time_input_wrap"},[a("validation-provider",{attrs:{vid:"end-hour-"+n,name:"終了時間(時)",rules:{requiredTime:""!==e.start.hour||""!==e.start.minute||""!==e.end.minute,digits:2,between:[0,23],endHour:["@start-hour-"+n]}},scopedSlots:t._u([{key:"default",fn:function(r){var i=r.errors;return[a("input",{staticClass:"input end end_hour",attrs:{type:"text"},domProps:{value:e.end.hour},on:{input:function(e){return t.changeEnd(n,e.target.value,"hour")}}}),t._v(" "),a("span",{staticClass:"error"},[t._v(t._s(i[0]))])]}}],null,!0)}),t._v("\n              :\n              "),a("validation-provider",{attrs:{vid:"end-minute-"+n,name:"終了時間(分)",rules:{requiredTime:""!==e.start.hour||""!==e.start.minute||""!==e.end.hour,digits:2,between:[0,59],endMinute:["@start-hour-"+n,"@start-minute-"+n,"@end-hour-"+n]}},scopedSlots:t._u([{key:"default",fn:function(r){var i=r.errors;return[a("input",{staticClass:"input end end_minute",attrs:{type:"text"},domProps:{value:e.end.minute},on:{input:function(e){return t.changeEnd(n,e.target.value,"minute")}}}),t._v(" "),a("span",{staticClass:"error"},[t._v(t._s(i[0]))])]}}],null,!0)})],1),t._v(" "),a("div",{staticClass:"error end-error"})]),t._v(" "),a("td",{staticClass:"pa0"},[t.learningTimes.length===n+1?[a("a",{attrs:{id:"add_learning_time_btn"},on:{click:t.addLearningTime}},[a("span",{staticClass:"icon"},[a("font-awesome-icon",{attrs:{icon:["far","plus-square"]}})],1)])]:t._e()],2)])})),0)]),t._v(" "),a("table",{staticClass:"horizontal-table common-table"},[a("tbody",[a("tr",[a("th",[t._v("申請理由")]),t._v(" "),a("td",{staticClass:"pa0",attrs:{colspan:"4"}},[a("textarea",{domProps:{value:t.changeReason},on:{input:function(e){return t.inputChangeReason(e.target.value)}}})])])])])]),t._v(" "),a("div",{staticClass:"foot_btns"},[a("nuxt-link",{staticClass:"button is-white",attrs:{to:"/students/learning_time_lists"}},[t._v("\n      戻る\n    ")]),t._v(" "),a("a",{staticClass:"button is-success",class:{disabled:n,"is-loading":t.isLoading},attrs:{disabled:n},on:{click:t.createTimestamps}},[t._v("\n      打刻を申請する\n    ")])],1)]}}])})}),[],!1,null,"62abdfba",null).exports},validate:function(t){var e=t.query,a=t.redirect;return!!(e.year&&e.month&&e.day)||a("/students/learning_time_lists")},asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var a,n,r,i,s,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.app,n=t.store,r=t.query,i=t.error,s={title:"学習時間詳細",description:"",titleBar:{title:"学習時間詳細",icon:"icon-website",links:[{text:"学習時間一覧へ",url:"/students/learning_time_lists?year=".concat(r.year,"&month=").concat(r.month)}]}},e.next=4,n.dispatch("setPageSettings",s);case 4:o="",e.prev=5,o=a.$dayjs("".concat(r.year,"/").concat(r.month,"/").concat(r.day)).format("YYYY/MM/DD(ddd)"),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(5),e.abrupt("return",i({statusCode:404,message:e.t0}));case 13:return e.abrupt("return",{dateWeekday:o});case 14:case"end":return e.stop()}}),e,null,[[5,9]])})))()},data:function(){return{dateWeekday:""}}},o=Object(i.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"content"}},[e("div",{staticClass:"container"},[e("create-learning-time",{attrs:{"date-weekday":this.dateWeekday}})],1)])}),[],!1,null,null,null);e.default=o.exports}}]);